<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="my-geo.html">
<link rel="import" href="my-video.html">
<link rel="import" href="position-tracker.html">

<polymer-element name="my-vr">
  <template>
<!--   <table cellpadding="0" cellspacing="0" style="width: 100%"> -->
<!-- 		<tr> -->
<!-- 			<td width="50%"><h1>Distance: <span>{{distance}}</span></h1></td> -->
<!-- 			<td width="50%"><h1>Distance: <span>{{distance}}</span></h1></td> -->
<!-- 		</tr> -->
<!--   </table> -->
  <my-video videofilter="{{videofilter}}"></my-video>
  <position-tracker id="myTracker" debug="true" distance="{{distance}}"/>
  <style>
  	h1 {
  		margin-bottom: 0px;
  		font-size: 12px;
  	}
  	table {
  		text-align: center;
  	}
  </style>
  </template>
  <script>
		Polymer({
			videofilter : '',
			distance : null,
			distancePrev : 0,
			distanceChanged : function() {
				console.log("my-vr distanceChanged: " + this.distance);
				var diff = Math.abs(distance - distancePrev);
				if ( distancePrev > 0 && diff > 5 ) {
					this.videofilter = 'grayscale(1)';
				} else {
					this.videofilter = '';
				}
				this.distancePrev = distance;
			},
			created : function() {
				//...
				console.log("my-vr created!");
			},
			ready : function() {
				//...
				console.log("my-vr ready!");
			}
			});
		</script>
</polymer-element>      